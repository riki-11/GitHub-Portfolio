<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile</title>
    <style>@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');</style>
    <script src="https://kit.fontawesome.com/defd36cc33.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body class="bg-primary font-primary text-white overflow-auto">
    <!-- START OF MAIN CONTENT -->
    <div class="w-[60%] flex h-screen justify-center gap-10 m-auto overflow-auto mt-28">
        <div class="justify center mt-5 w-48 text-center">
            {{#if imageSrc}}
                <img src="{{imageSrc}}" alt="Profile Picture" class="justify-center h-[9.5rem] w-[9.5rem] m-auto rounded-[5rem]">
            {{else}}
                <img src="../images/profile-icon.png" alt="Profile Picture" class="justify-center h-[9.5rem] w-[9.5rem] m-auto rounded-[5rem]">
                <p class="mt-2">@{{user.username}}</p>
            {{/if}}
            <div class="mt-96 text-center">
                <form action="/delete-account" method="POST">
                    <button type="submit" class="p-2 hover:text-white rounded-md hover:bg-red-600 bg-red-500 text-white">Delete Account</button>
                </form>
            </div>
            
        </div>
        <div class="justify-self">
            <form method="post" action="/updateinfo" enctype="multipart/form-data">
                <div>
                    <span class="label">Change profile picture</span> <br>
                    <input type="file" name="photo" accept="image/*">

                    <div>
                    <label for="firstname" class="font-extralight">First Name</label><br>
                    <input class="focus:bg-white pl-2 focus:text-black w-96 h-9 bg-transparent border-[2px] border-gray-500 rounded" type="text" name="firstname" id="firstname" placeholder=" First Name" required value="{{user.firstName}}"><br>
                    </div>
                    <div class="mt-3 ">
                    <label for="lastname">Last Name</label><br>
                    <input class="focus:bg-white pl-2 focus:text-black w-96 h-9 bg-transparent border-[2px] border-gray-500 rounded" type="text" name="lastname" id="lastname" placeholder=" Last Name" required value="{{user.lastName}}"><br>
                    </div>
                    <div class="mt-3 ">
                    <label for="description">Description</label><br>
                    <textarea  rows="4" cols="5" class="resize-none focus:bg-white pl-2 focus:text-black w-96 bg-transparent border-[2px] border-gray-500 rounded" type="text" name="description" id="description" placeholder="Tell the world about yourself!">{{user.description}}</textarea><br>
                    </div>
                    <div class="mt-3 ">
                    <label for="username">Username</label><br>
                    <input class="focus:bg-white pl-2 focus:text-black w-96 h-9 bg-transparent border-[2px] border-gray-500 rounded" type="text" name="username" id="username" placeholder=" @username" required value="{{user.username}}"><br>
                    </div>
                    <div class="mt-3 ">
                    <label for="email">Email</label><br>
                    <input class="focus:bg-white pl-2 focus:text-black w-96 h-9 bg-transparent border-[2px] border-gray-500 rounded" type="text" name="email" id="email" placeholder=" sample@email.com" required value="{{user.email}}"><br>
                    </div>
                    <div class="mt-3 ">
                    <label for="password">Password</label><br>
                    <input class="focus:bg-white pl-2 focus:text-black w-96 h-9 bg-transparent border-[2px] border-gray-500 rounded" type="password" name="password" id="password" placeholder=" *******" required value="{{user.password}}"><br>
                    </div>
                </div>
                {{#if error}}
                    <div class="mt-3 text-red-600 text-center">
                        {{error}}
                    </div>
                {{/if}}
                <div class="mt-10 text-center">
                    <button type="submit" class="border-[2px] w-24 p-3 hover:text-black border-white rounded-md border-w hover:bg-secondary hover:border-secondary">Update</button>
                </div>
            </form>

        </div>
    </div>
    <script src="./js/update-user.js"></script>

    <script src="//localhost:35729/livereload.js"></script>

</body>
</html>